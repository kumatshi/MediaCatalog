<Window x:Class="MediaCatalog.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:fa="clr-namespace:FontAwesome.WPF;assembly=FontAwesome.WPF"
        xmlns:local="clr-namespace:MediaCatalog"
        Title="Media Catalog"
        Width="1280"
        Height="800"
        WindowStartupLocation="CenterScreen"
        Background="#0F0F12">

    <Window.Resources>

        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesign3.Defaults.xaml"/>
                <materialDesign:BundledTheme BaseTheme="Dark"
                                             PrimaryColor="DeepPurple"
                                             SecondaryColor="Amber"/>
            </ResourceDictionary.MergedDictionaries>

            <SolidColorBrush x:Key="CardBackground" Color="#1B1B22"/>
            <SolidColorBrush x:Key="GlassBackground" Color="#AA1C1C24"/>
            <SolidColorBrush x:Key="MutedText" Color="#A6A6B3"/>

            <local:ImageSourceConverter x:Key="ImageSourceConverter"/>

            <Style x:Key="ActionButtonStyle" TargetType="Button">
                <Setter Property="Height" Value="40"/>
                <Setter Property="Margin" Value="4"/>
                <Setter Property="Padding" Value="14,6"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="Background" Value="#2A2A36"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Cursor" Value="Hand"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}"
                                    CornerRadius="12">
                                <ContentPresenter
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Background" Value="#3A3A4A"/>
                    </Trigger>
                </Style.Triggers>
            </Style>

            <Style x:Key="MediaCardStyle" TargetType="Border">
                <Setter Property="Width" Value="220"/>
                <Setter Property="Height" Value="320"/>
                <Setter Property="Margin" Value="12"/>
                <Setter Property="Background" Value="{StaticResource CardBackground}"/>
                <Setter Property="CornerRadius" Value="18"/>
                <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
                <Setter Property="RenderTransform">
                    <Setter.Value>
                        <ScaleTransform ScaleX="1" ScaleY="1"/>
                    </Setter.Value>
                </Setter>
                <Setter Property="Effect">
                    <Setter.Value>
                        <DropShadowEffect BlurRadius="20"
                                          ShadowDepth="4"
                                          Opacity="0.4"/>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="RenderTransform">
                            <Setter.Value>
                                <ScaleTransform ScaleX="1.05" ScaleY="1.05"/>
                            </Setter.Value>
                        </Setter>
                        <Setter Property="Effect">
                            <Setter.Value>
                                <DropShadowEffect BlurRadius="30"
                                                  ShadowDepth="6"
                                                  Opacity="0.7"/>
                            </Setter.Value>
                        </Setter>
                    </Trigger>
                </Style.Triggers>
            </Style>

        </ResourceDictionary>
    </Window.Resources>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <DockPanel Grid.Row="0" Margin="6">


            <StackPanel Orientation="Horizontal" DockPanel.Dock="Left" Width="768">
                <Button Style="{StaticResource ActionButtonStyle}" Click="AddButton_Click" Width="115">
                    <StackPanel Orientation="Horizontal">
                        <fa:ImageAwesome Icon="Plus" Width="14" Margin="0,0,6,0"/>
                        <TextBlock Text="Добавить"/>
                    </StackPanel>
                </Button>

                <Button Style="{StaticResource ActionButtonStyle}" Click="ChangeStatusButton_Click" Width="115">
                    <TextBlock Text="Завершить"/>
                </Button>

                <Button Style="{StaticResource ActionButtonStyle}" Click="StartProgressButton_Click" Width="115">
                    <TextBlock Text="В процессе"/>
                </Button>

                <Button Style="{StaticResource ActionButtonStyle}" Click="PlanButton_Click" Width="115">
                    <TextBlock Text="В планы"/>
                </Button>

                <Button Style="{StaticResource ActionButtonStyle}" Click="DeleteButton_Click" Width="115">
                    <TextBlock Text="Удалить"/>
                </Button>
            </StackPanel>


            <StackPanel Orientation="Horizontal" DockPanel.Dock="Right" Width="470">

                <TextBox x:Name="SearchBox"
                         Width="220"
                         Height="53"
                         Margin="4"
                         
                         materialDesign:HintAssist.Hint="Поиск..."
                         TextChanged="SearchBox_TextChanged"
                         GotFocus="SearchBox_GotFocus"
                         LostFocus="SearchBox_LostFocus"
                         Style="{StaticResource MaterialDesignOutlinedTextBox}" Text=""/>

                <ComboBox x:Name="FilterComboBox"
                          Width="160"
                          Height="54"
                          Margin="4"
                          SelectionChanged="FilterComboBox_SelectionChanged"
                          Style="{StaticResource MaterialDesignOutlinedComboBox}"/>

                <Button Style="{StaticResource ActionButtonStyle}"
                        Click="MusicButton_Click">
                    <fa:ImageAwesome Icon="Music" Width="63" Height="30"/>
                </Button>

            </StackPanel>
        </DockPanel>


        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="340"/>
            </Grid.ColumnDefinitions>

            <ListView x:Name="MediaListView"
                      Grid.Column="0"
                      Margin="6"
                      ScrollViewer.HorizontalScrollBarVisibility="Disabled">

                <ListView.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel HorizontalAlignment="Center"/>
                    </ItemsPanelTemplate>
                </ListView.ItemsPanel>

                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Border Style="{StaticResource MediaCardStyle}">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="265"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <Image Grid.Row="0"
                                       Stretch="UniformToFill"
                                       Source="{Binding CoverImagePath,
                                       Converter={StaticResource ImageSourceConverter}}"/>

                                <Border Grid.Row="1" Padding="12">
                                    <StackPanel>
                                        <TextBlock Text="{Binding Title}"
                                                   Foreground="White"
                                                   FontWeight="Bold"
                                                   TextWrapping="Wrap"
                                                   MaxHeight="42"/>

                                        <TextBlock Text="{Binding Year}"
                                                   Foreground="{StaticResource MutedText}"
                                                   FontSize="12"/>
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>

            <Border Grid.Column="1"
                    Margin="6"
                    CornerRadius="20"
                    Background="{StaticResource GlassBackground}">

                <Border.Effect>
                    <BlurEffect Radius="0"/>
                </Border.Effect>

                <ScrollViewer>
                    <StackPanel x:Name="DetailPanel" Margin="16">

                        <TextBlock Text="Детали"
                                   FontSize="18"
                                   FontWeight="Bold"
                                   Foreground="White"
                                   Margin="0,0,0,12"/>

                        <TextBlock x:Name="DetailTitle" Foreground="White"/>
                        <TextBlock x:Name="DetailType" Foreground="{StaticResource MutedText}"/>
                        <TextBlock x:Name="DetailYear" Foreground="{StaticResource MutedText}"/>
                        <TextBlock x:Name="DetailGenre" Foreground="{StaticResource MutedText}"/>
                        <TextBlock x:Name="DetailStatus" Foreground="{StaticResource MutedText}"/>
                        <TextBlock x:Name="DetailRating" Foreground="{StaticResource MutedText}"/>
                        <TextBlock x:Name="DetailDateAdded" Foreground="{StaticResource MutedText}"/>

                    </StackPanel>
                </ScrollViewer>
            </Border>

        </Grid>
    </Grid>
</Window>
